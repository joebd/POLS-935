knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
file1 <- read_html("https://dumps.wikimedia.org/other/pagecounts-raw/2012/2012-01/") %>%
html_nodes("li") %>%
html_node("a") %>%
html_attr("href") %>%
str_subset("pagecounts")
temp1 <- tempfile()
download.file(paste0("https://dumps.wikimedia.org/other/pagecounts-raw/2012/2012-01/", file1[1]), temp1)
gzfile(temp, 'rt')
gzfile(temp1, 'rt')
mydata1 <- read.table(temp1, sep = " ") %>%
as_tibble() %>%
filter(V1 == "en",
V2 == "Al-Qaeda")
unlink(temp1)
mydata1
unlink(temp1)
temp1
length(file1)
file1 <- read_html("https://dumps.wikimedia.org/other/pagecounts-raw/2012/2012-01/") %>%
html_nodes("li") %>%
html_node("a") %>%
html_attr("href") %>%
str_subset("pagecounts")
file1
chr(file1)
str(file1)
file1 <- read_html("https://dumps.wikimedia.org/other/pagecounts-raw/2012/2012-01/") %>%
html_nodes("li") %>%
html_node("a") %>%
html_attr("href") %>%
str_subset("pagecounts")
